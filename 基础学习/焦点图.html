<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>焦点图</title>
<style>
	.con {
		position: relative;
		margin: 100px auto;
		background-color: #f00;
		overflow: hidden;
	}
	ul {
		position: absolute;
		list-style-type: none;
		margin: 0;
		padding: 0;
		cursor: pointer;
	}
	ul li {
		float: left;
	}
	img {
		display: block;
		width: 160px;
		height: 120px;
	}
</style>
<script>
	window.onload = function () {
		var div = document.getElementsByTagName('div')[0],
			ul = document.getElementsByTagName('ul')[0],
			lis = ul.getElementsByTagName('li'),
			btns = document.getElementsByTagName('button'),
			timer = null,
			speed = -2;
		div.style.height = lis[0].offsetHeight + 'px';
		div.style.width = lis[0].offsetWidth * lis.length + 'px';
		ul.innerHTML += ul.innerHTML;
		ul.style.width = lis[0].offsetWidth * lis.length + 'px';

		var move = function () {
			if (ul.offsetLeft < -ul.offsetWidth / 2) {
				console.log(ul.offsetLeft);
				ul.style.left = 0;
			}
			if (ul.offsetLeft > 0) {
				console.log(ul.offsetLeft);
				ul.style.left = -ul.offsetWidth / 2 + 'px';
			}
			ul.style.left = ul.offsetLeft + speed + 'px';
		};
		timer = setInterval(move, 30);
		ul.onmouseover = function () {
			clearInterval(timer);
		};
		ul.onmouseout = function () {
			timer = setInterval(move, 30);
		};
		btns[0].onclick = function () {
			speed = -2;
		};
		btns[1].onclick = function () {
			speed = 2;
		};
	};
</script>
</head>
<body>
<button>向左</button>
<button>向右</button>
<div class="con">
	<ul>
		<li><img src="http://upload-images.jianshu.io/upload_images/127924-dec37275411437de.jpg" alt="" /></li>
		<li><img src="http://upload-images.jianshu.io/upload_images/127924-84999ce72b31c3b5.jpg" alt="" /></li>
		<li><img src="http://upload-images.jianshu.io/upload_images/127924-b06e44e6a17caf43.jpg" alt="" /></li>
		<li><img src="http://upload-images.jianshu.io/upload_images/127924-8403145c3c922546.jpg" alt="" /></li>
	</ul>
</div>
</body>
</html>
